(function(){"use strict";angular.module("sc-form",["sc-text-input","sc-list-text-input","sc-number-input","sc-date-input","sc-array-input","sc-img-input"])}).call(this),function(){"use strict";angular.module("sc-array-input",["array_inputTemplate","sc-array-input-modal"]).directive("scArrayInputDirective",function(){return{restrict:"EA",templateUrl:"script/array_input/array_input_template.html",controller:"scArrayInputController",require:"ngModel",scope:{addButton:"@",json:"@",label:"@",isDisabled:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){var postLink;return angular.isUndefined(tAttrs.addButton)&&(tAttrs.addButton="Add"),angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),postLink=function(scope,iElement,iAttrs,ngModelCtrl){return ngModelCtrl.$formatters.push(function(modelValue){return modelValue}),ngModelCtrl.$parsers.push(function(viewValue){return viewValue}),ngModelCtrl.$render=function(){return scope.localModel=ngModelCtrl.$viewValue},scope.$watch("localModel",function(value){return ngModelCtrl.$setViewValue(value)})}}}}).controller("scArrayInputController",function($scope,$modal,$http){return $scope.jsonData=void 0,$http.get($scope.json).success(function(data){return $scope.jsonData=angular.copy(data)}).error(function(data,status){return $scope.errorMsg="Le fichier JSON ("+$scope.json+") n'a pa pu être récupéré."}),$scope.addValue=function(){var modalInstance;return modalInstance=$modal.open({templateUrl:"script/array_input/modal/array_input_modal_template.html",controller:"scArrayInputModalController",resolve:{jsonData:function(){return $scope.jsonData},modalModel:function(){return null}}}),modalInstance.result.then(function(result){return angular.equals({},result)?void 0:(void 0===$scope.localModel&&($scope.localModel=[]),$scope.localModel.push(result))})},$scope.editValue=function(key){var modalInstance;return modalInstance=$modal.open({templateUrl:"script/array_input/modal/array_input_modal_template.html",controller:"scArrayInputModalController",resolve:{jsonData:function(){return $scope.jsonData},modalModel:function(){return angular.copy($scope.localModel[key])}}}),modalInstance.result.then(function(result){return $scope.localModel[key]=angular.copy(result)})},$scope.deleteValue=function(key){return $scope.localModel.splice(key,1),0===$scope.localModel.length?delete $scope.localModel:void 0}})}.call(this),function(){"use strict";angular.module("sc-date-input",["date_inputTemplate"]).directive("scDateInputDirective",function(){return{restrict:"EA",templateUrl:"script/date_input/date_input_template.html",controller:"scDateInputController",require:"ngModel",scope:{icon:"@",label:"@",popoverMsg:"@",type:"@",approximativeModel:"=?",errorMsg:"=?",isDisabled:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){var postLink;return angular.isUndefined(tAttrs.type)?tAttrs.type="date":tAttrs.type.match("^(date|datetime-local)$")||(console.log("Error: type must date|datetime-local"),tAttrs.type="date"),angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),postLink=function(scope,iElement,iAttrs){return scope.popoverMsg&&""!==scope.popoverMsg&&$(iElement).popover({trigger:"focus",content:scope.popoverMsg,placement:"top"}),scope.isApproximative=!angular.isUndefined(iAttrs.approximativeModel)}}}}).controller("scDateInputController",function($scope,$timeout){return $scope.originModel=angular.copy($scope.localModel)})}.call(this),function(){"use strict";angular.module("sc-img-input",["img_inputTemplate"]).directive("scImgInputDirective",function(){return{restrict:"EA",templateUrl:"script/img_input/img_input_template.html",controller:"scImgInputController",require:"ngModel",scope:{label:"@",placeholder:"@",errorMsg:"=?",isDisabled:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){return angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),angular.isUndefined(tAttrs.placeholder)?tAttrs.placeholder="Drop images here":void 0}}}).controller("scImgInputController",function($scope,$timeout){return $scope.originModel=angular.copy($scope.localModel)})}.call(this),function(){"use strict";angular.module("sc-img-input",["img_inputTemplate"]).directive("scImgInputDirective",function(){return{restrict:"EA",templateUrl:"script/img_input/img_input_template.html",controller:"scImgInputController",require:"ngModel",scope:{height:"@",label:"@",placeholder:"@",width:"@",errorMsg:"=?",isDisabled:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){return angular.isUndefined(tAttrs.placeholder)&&(tAttrs.placeholder="Drop images here"),angular.isUndefined(tAttrs.height)&&(tAttrs.height="200px"),angular.isUndefined(tAttrs.width)&&(tAttrs.width="200px"),angular.isUndefined(tAttrs.isDisabled)?tAttrs.isDisabled="false":void 0}}}).controller("scImgInputController",function($scope,$timeout){return $(".dropzone input").on("change",function(e){var file,reader;return file=this.files[0],$(".dropzone img").remove(),null!=file?(reader=new FileReader(file),reader.readAsDataURL(file),reader.onload=function(e){var $img,data;return data=e.target.result,$img=$("<img />").attr("src",data).fadeIn(),$(".dropzone div").html($img)}):$(".dropzone div").html($scope.placeholder)})})}.call(this),function(){"use strict";angular.module("sc-list-text-input",["list_text_inputTemplate"]).directive("scListTextInputDirective",function(){return{restrict:"EA",templateUrl:"script/list_text_input/list_text_input_template.html",controller:"scListTextInputController",require:"ngModel",scope:{icon:"@",label:"@",placeholder:"@",popoverMsg:"@",errorMsg:"=?",isDisabled:"=?",upperFirstLetter:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){var postLink;return angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),angular.isUndefined(tAttrs.upperFirstLetter)&&(tAttrs.upperFirstLetter="false"),postLink=function(scope,iElement,iAttrs,ngModelCtrl){return ngModelCtrl.$formatters.push(function(modelValue){return modelValue}),ngModelCtrl.$parsers.push(function(viewValue){return viewValue}),ngModelCtrl.$render=function(){return scope.localModel=ngModelCtrl.$viewValue},scope.$watch("localModel",function(value){return ngModelCtrl.$setViewValue(value)}),scope.popoverMsg&&""!==scope.popoverMsg?$(iElement).popover({trigger:"focus",content:scope.popoverMsg,placement:"top"}):void 0}}}}).controller("scListTextInputController",function($scope){return $scope.newValue=void 0,$scope.onBlur=function(){return $scope.newValue&&""!==$scope.newValue?($scope.newValue=$scope.newValue.trim(),$scope.upperFirstLetter===!0&&($scope.newValue=$scope.newValue.charAt(0).toUpperCase()+$scope.newValue.slice(1)),void 0===$scope.localModel&&($scope.localModel=[]),$scope.localModel.push($scope.newValue),$scope.newValue=""):void 0},$scope.deleteValue=function(key){return $scope.localModel.splice(key,1),0===$scope.localModel.length?delete $scope.localModel:void 0}})}.call(this),function(){"use strict";angular.module("sc-number-input",["number_inputTemplate"]).directive("scNumberInputDirective",function(){return{restrict:"EA",templateUrl:"script/number_input/number_input_template.html",controller:"scNumberInputController",require:"ngModel",scope:{icon:"@",label:"@",placeholder:"@",popoverMsg:"@",errorMsg:"=?",isDisabled:"=?",step:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){var postLink;return angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),postLink=function(scope,iElement,iAttrs){return scope.popoverMsg&&""!==scope.popoverMsg?$(iElement).popover({trigger:"focus",content:scope.popoverMsg,placement:"top"}):void 0}}}}).controller("scNumberInputController",function($scope){return $scope.originModel=angular.copy($scope.localModel)})}.call(this),function(){"use strict";angular.module("sc-text-input",["text_inputTemplate"]).directive("scTextInputDirective",function(){return{restrict:"EA",templateUrl:"script/text_input/text_input_template.html",controller:"scTextInputController",require:"ngModel",scope:{icon:"@",label:"@",placeholder:"@",popoverMsg:"@",errorMsg:"=?",isDisabled:"=?",upperFirstLetter:"=?",localModel:"=ngModel"},compile:function(tElement,tAttrs){var postLink;return angular.isUndefined(tAttrs.isDisabled)&&(tAttrs.isDisabled="false"),angular.isUndefined(tAttrs.upperFirstLetter)&&(tAttrs.upperFirstLetter="false"),postLink=function(scope,iElement,iAttrs){return scope.popoverMsg&&""!==scope.popoverMsg?$(iElement).popover({trigger:"focus",content:scope.popoverMsg,placement:"top"}):void 0}}}}).controller("scTextInputController",function($scope){return $scope.originModel=angular.copy($scope.localModel),$scope.onBlur=function(){return $scope.localModel&&""!==$scope.localModel&&($scope.localModel=$scope.localModel.trim(),$scope.upperFirstLetter===!0)?$scope.localModel=$scope.localModel.charAt(0).toUpperCase()+$scope.localModel.slice(1):void 0}})}.call(this),function(){"use strict";angular.module("sc-array-input-modal",["ui.bootstrap","array_input_modalTemplate"]).controller("scArrayInputModalController",function($scope,$modalInstance,jsonData,modalModel){return $scope.jsonData={},$scope.modalModel={},null!=jsonData&&($scope.jsonData=angular.copy(jsonData)),null!=modalModel&&($scope.modalModel=angular.copy(modalModel)),$scope.valid=function(){return $modalInstance.close($scope.modalModel)},$scope.cancel=function(){return $modalInstance.dismiss("cancel")}})}.call(this),function(module){try{module=angular.module("array_inputTemplate")}catch(e){module=angular.module("array_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/array_input/array_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n\n  <div class="input-group form-group form-control" ng-show="localModel">\n    <div ng-repeat="(key, elt) in localModel track by key">\n      <div class="thumbnail" style="background-color:#f2f2f2;" >\n        <span class="pull-right">\n          <span class="fa fa-edit" ng-if="!isDisabled" ng-click="editValue(key)"></span>\n          <span class="fa fa-close" ng-if="!isDisabled" ng-click="deleteValue(key)"></span>\n        </span>\n        <span ng-repeat="(id, value) in elt track by id">\n          <br /><span>{{id}}: {{value}}</span>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <input type="button" class="btn btn-primary" ng-value="addButton == \'\' ? \'Add\' : addButton" ng-click="addValue()" ng-disabled="isDisabled" />\n</div>\n')}])}(),function(module){try{module=angular.module("date_inputTemplate")}catch(e){module=angular.module("date_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/date_input/date_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div class="input-group">\n    <div class="input-group-addon" ng-if="icon != undefined">\n      <i class="fa fa-lg fa-{{icon}}"></i>\n    </div>\n    <input type="{{type}}" class="form-control" ng-model="localModel"\n           required ng-disabled="isDisabled" />\n    <div class="input-group-addon alert-warning" ng-show="originModel != localModel">\n      <i class="fa fa-lg fa-pencil"></i>\n    </div>\n    <div ng-show="isApproximative" class="input-group-addon">\n      <span>Approximative ?</span>\n      <input type="checkbox" ng-model="approximativeModel" ng-disabled="isDisabled"/>\n    </div>\n  </div>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("img_inputTemplate")}catch(e){module=angular.module("img_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/img_input/img_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div class="dropzone" ng-style="{width: width, height: height}">\n    <div>{{placeholder}}</div>\n    <input type="file" accept="image/*" ng-style="{\'margin-top\': \'-\' + height}"\n           ng-disabled="isDisabled" />\n  </div>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("list_text_inputTemplate")}catch(e){module=angular.module("list_text_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/list_text_input/list_text_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div class="form-group" ng-repeat="(key, value) in localModel track by key">\n    <div class="input-group">\n      <div class="input-group-addon" ng-if="icon != undefined">\n        <i class="fa fa-lg fa-{{icon}}"></i>\n      </div>\n      <input type="text" class="form-control" value="{{value}}" ng-disabled="isDisabled" />\n      <div class="input-group-addon" ng-show="!uDisabled">\n        <a href="" ng-click="deleteValue(key)"><i class="fa fa-lg fa-close"></i></a>\n      </div>\n    </div>\n  </div>\n\n  <div class="input-group">\n    <div class="input-group-addon" ng-if="icon != undefined">\n      <i class="fa fa-lg fa-{{icon}}"></i>\n    </div>\n    <input type="text" class="form-control" ng-model="newValue" ng-blur="onBlur()"\n           required placeholder="{{placeholder}}" ng-disabled="isDisabled" />\n  </div>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("number_inputTemplate")}catch(e){module=angular.module("number_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/number_input/number_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div class="input-group">\n    <div class="input-group-addon" ng-if="icon != undefined">\n      <i class="fa fa-lg fa-{{icon}}"></i>\n    </div>\n    <input type="number" class="form-control" ng-model="localModel" step="{{step}}"\n           required placeholder="{{placeholder}}" ng-disabled="isDisabled" />\n    <div class="input-group-addon alert-warning" ng-show="originModel != localModel">\n      <i class="fa fa-lg fa-pencil"></i>\n    </div>\n  </div>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("text_inputTemplate")}catch(e){module=angular.module("text_inputTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/text_input/text_input_template.html",'<div class="sc-form form-group">\n  <label ng-if="label != undefined" class="label-control">{{label}}</label>\n\n  <div class="input-group">\n    <div class="input-group-addon" ng-if="icon != undefined">\n      <i class="fa fa-lg fa-{{icon}}"></i>\n    </div>\n    <input type="text" class="form-control" ng-model="localModel" ng-blur="onBlur()"\n           required placeholder="{{placeholder}}" ng-disabled="isDisabled" />\n    <div class="input-group-addon alert-warning" ng-show="originModel != localModel"><i class="fa fa-lg fa-pencil"></i></div>\n  </div>\n\n  <div ng-show="errorMsg" class="alert alert-danger">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>{{errorMsg}}</span>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("array_input_modalTemplate")}catch(e){module=angular.module("array_input_modalTemplate",[])}module.run(["$templateCache",function($templateCache){$templateCache.put("script/array_input/modal/array_input_modal_template.html",'<div>\n	<div class="modal-header">\n		<button class="btn btn-danger pull-right" ng-click="cancel()"><i class="fa fa-lg fa-close"></i></button>\n		<h3>{{jsonData.title}}</h3>\n	</div>\n\n	<div class="modal-body">\n		<div class="form">\n			<div ng-repeat="input in jsonData.inputs">\n				<div sc-text-input-directive ng-if="input.type == \'text\'" ng-model="modalModel[input.model]" label="{{input.model}}"></div>\n				<div sc-list-text-input-directive ng-if="input.type == \'list-text\'" ng-model="modalModel[input.model]" label="{{input.model}}"></div>\n				<div sc-number-input-directive ng-if="input.type == \'number\'" ng-model="modalModel[input.model]" label="{{input.model}}"></div>\n				<div sc-date-input-directive ng-if="input.type == \'date\'" ng-model="modalModel[input.model]" label="{{input.model}}"></div>\n				<div sc-date-input-directive ng-if="input.type == \'datetime-local\'" ng-model="modalModel[input.model]" label="{{input.model}}" type="datetime-local" ></div>\n			</div>\n		<div>\n  </div>\n\n  <div class="modal-footer">\n    <button class="btn btn-primary" ng-click="valid()">OK</button>\n  </div>\n</div>\n')}])}();